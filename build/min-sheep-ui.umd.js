(function(u,t){typeof exports=="object"&&typeof module<"u"?t(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],t):(u=typeof globalThis<"u"?globalThis:u||self,t(u["min-sheep-ui"]={},u.Vue))})(this,function(u,t){"use strict";const x={type:{type:String,default:"secondary"},size:{type:String,default:"medium"},disabled:{type:Boolean,default:!1},block:{type:Boolean,default:!1}},w="",f=t.defineComponent({name:"SButton",props:x,setup(c,{slots:e}){const{type:a,size:s,disabled:n,block:l}=t.toRefs(c),o=l.value?"s-btn--block":"";return()=>t.createVNode("button",{disabled:n.value,class:`s-btn s-btn--${a.value} s-btn--${s.value} ${o}`},[e.default?e.default():"按钮"])}}),m={install(c){c.component(f.name,f)}};function h(c,e=0,a=[]){return e++,c.reduce((s,n)=>{const l={...n};l.level=e,a.length>0&&a[a.length-1].level>=e&&a.pop(),a.push(l);const o=a[a.length-2];if(o&&(l.parentId=o.id),l.children){const d=h(l.children,e,a);return delete l.children,s.concat(l,d)}else return l.isLeaf=!0,s.concat(l)},[])}function v(c){const e=t.ref(h(t.unref(c))),a=o=>{const d=e.value.find(i=>i.id===o.id);d&&(d.expanded=!d.expanded)},s=t.computed(()=>{let o=[];const d=[];for(const i of e.value)o.includes(i)||(i.expanded!==!0&&(o=n(i)),d.push(i));return d}),n=(o,d=!0)=>{const i=[],p=e.value.findIndex(r=>r.id===o.id);for(let r=p+1;r<e.value.length&&o.level<e.value[r].level;r++)(d||o.level===e.value[r].level-1)&&i.push(e.value[r]);return i};return{innerData:e,toggleNode:a,expandedTree:s,getChildrenExpanded:n,toggleCheckNode:o=>{o.checked=!o.checked,n(o).forEach(r=>{r.checked=o.checked});const d=e.value.find(r=>r.id===o.parentId);if(!d)return;const i=n(d,!1);i.filter(r=>r.checked).length===i.length?d.checked=!0:d.checked=!1}}}const b={data:{type:Object,required:!0},checkable:{type:Boolean,default:!1},lineable:{type:Boolean,default:!1}},y={...b,treeNode:{type:Object,required:!0}},N=32,k=24,T=t.defineComponent({name:"STreeNode",props:y,setup(c,{slots:e}){const{lineable:a,checkable:s,treeNode:n}=t.toRefs(c),{toggleCheckNode:l,getChildrenExpanded:o}=t.inject("TREE_UTILS");return()=>{var d,i;return t.createVNode("div",{class:"s-tree-node hover:bg-slate-300 relative leading-8",style:{paddingLeft:`${k*(n.value.level-1)}px`}},[!n.value.isLeaf&&n.value.expanded&&a.value&&t.createVNode("span",{class:"s-tree-node__vline absolute w-px bg-slate-300",style:{height:`${N*o(n.value).length}px`,left:`${k*(n.value.level-1)+9}px`,top:`${N}px`}},null),n.value.isLeaf?t.createVNode("span",{style:{display:"inline-block",width:"18px"}},null):(d=e.icon)==null?void 0:d.call(e),s.value&&t.withDirectives(t.createVNode("input",{type:"checkbox","onUpdate:modelValue":p=>n.value.checked=p,onClick:()=>{l(n.value)}},null),[[t.vModelCheckbox,n.value.checked]]),(i=e.content)==null?void 0:i.call(e)])}}}),C=(c,{emit:e})=>t.createVNode("svg",{style:{width:"18px",height:"18px",display:"inline-block",transform:c.expanded?"rotate(90deg)":""},viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",onClick:()=>e("onClick")},[t.createVNode("path",{fill:"currentColor",d:"M384 192v640l384-320.064z"},null)]),B="",g=t.defineComponent({name:"STree",props:b,setup(c,{slots:e}){const{data:a}=t.toRefs(c),s=v(a);return t.provide("TREE_UTILS",s),()=>{var n;return t.createVNode("div",{class:"s-tree"},[(n=s.expandedTree)==null?void 0:n.value.map(l=>t.createVNode(T,t.mergeProps(c,{treeNode:l}),{content:()=>e.content?e.content(l):l.label,icon:()=>e.icon?e.icon({nodeData:l,toggleNode:s.toggleNode}):t.createVNode(C,{expanded:!!l.expanded,onClick:()=>s.toggleNode(l)},null)}))])}}}),S={install(c){c.component(g.name,g)}},I="",E=[m,S],V={version:"0.0.1",install(c){E.forEach(e=>c.use(e))}};u.Button=f,u.Tree=g,u.default=V,Object.defineProperties(u,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
