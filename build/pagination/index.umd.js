(function(c,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(c=typeof globalThis<"u"?globalThis:c||self,e(c.index={},c.Vue))})(this,function(c,e){"use strict";const g={total:{type:Number,default:0},pageSize:{type:Number,default:10},pagerCount:{type:Number,default:7},modelValue:{type:Number,default:1},hideOnSinglePage:{type:Boolean,default:!0}},b="",y="";function p(n=1){const a=e.ref(n),t=i=>{a.value=i},o=i=>{a.value+=i};return{pageIndex:a,setPageIndex:t,jumpPage:o,prevPage:()=>o(-1),nextPage:()=>o(1)}}const m=(n,a,t)=>{const o=Array.from(Array(n).keys());if(n<=t)return o.slice(2,n);{const r=Math.ceil(t/2);return a<=r?o.slice(2,t):a>=n-r+1?o.slice(n-t+2,n):o.slice(a-r+2,a+r-1)}},P=g,d=e.defineComponent({name:"SPager",props:P,setup(n){const{total:a,pageSize:t,pagerCount:o,hideOnSinglePage:r}=e.toRefs(n),l=e.computed(()=>Math.ceil(a.value/t.value)),{pageIndex:i,setPageIndex:s,jumpPage:N,prevPage:V,nextPage:x}=p(),h=e.computed(()=>m(l.value,i.value,o.value));return{totalPage:l,pageIndex:i,setPageIndex:s,jumpPage:N,prevPage:V,nextPage:x,centerPages:h,hideOnSinglePage:r}},render(){const{pagerCount:n,totalPage:a,pageIndex:t,setPageIndex:o,jumpPage:r,centerPages:l,hideOnSinglePage:i}=this;return e.createVNode(e.Fragment,null,[i&&l.length>=0&&e.createVNode("ul",{class:"s-pager"},[e.createVNode("li",{onClick:()=>o(1),class:{current:t===1}},[e.createTextVNode("1")]),a>n&&t>Math.ceil(n/2)&&e.createVNode("li",{class:"more left",onClick:()=>r(-5)},[e.createTextVNode("...")]),l.map(s=>e.createVNode("li",{onClick:()=>o(s),class:{current:t===s}},[s])),a>n&&t<a-Math.ceil(n/2)+1&&e.createVNode("li",{class:"more right",onClick:()=>r(5)},[e.createTextVNode("...")]),a>1&&e.createVNode("li",{onClick:()=>o(a),class:{current:t===a}},[a])])])}}),u=e.defineComponent({name:"SPagination",props:g,emits:["update:modelValue"],setup(n,{emit:a}){const t=e.ref(),o=e.computed(()=>t.value?t.value.pageIndex<2:!0),r=e.computed(()=>t.value?t.value.pageIndex>t.value.totalPage-1:!0);return e.onMounted(()=>{e.watch(()=>t.value.pageIndex,l=>{a("update:modelValue",l)}),e.watch(()=>n.modelValue,l=>{t.value.pageIndex=l})}),()=>e.createVNode("div",{class:"s-pagination"},[e.createVNode("button",{disabled:o.value,onClick:()=>t.value.prevPage()},[e.createTextVNode("上一页")]),e.createVNode(d,e.mergeProps(n,{ref:t}),null),e.createVNode("button",{disabled:r.value,onClick:()=>t.value.nextPage()},[e.createTextVNode("下一页")])])}}),f={install(n){n.component(u.name,u),n.component(d.name,d)}};c.Pager=d,c.Pagination=u,c.default=f,Object.defineProperties(c,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
