(function(c,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(c=typeof globalThis<"u"?globalThis:c||self,e(c.index={},c.Vue))})(this,function(c,e){"use strict";const u={total:{type:Number,default:0},pageSize:{type:Number,default:10},pagerCount:{type:Number,default:7},modelValue:{type:Number,default:1}},b="",h="";function p(a=1){const n=e.ref(a),t=s=>{n.value=s},o=s=>{n.value+=s};return{pageIndex:n,setPageIndex:t,jumpPage:o,prevPage:()=>o(-1),nextPage:()=>o(1)}}const g=(a,n,t)=>{const o=Array.from(Array(a).keys());if(a<=t)return o.slice(2,a);{const r=Math.ceil(t/2);return n<=r?o.slice(2,t):n>=a-r+1?o.slice(a-t+2,a):o.slice(n-r+2,n+r-1)}},m=u,i=e.defineComponent({name:"SPager",props:m,setup(a){const{total:n,pageSize:t,pagerCount:o}=e.toRefs(a),r=e.computed(()=>Math.ceil(n.value/t.value)),{pageIndex:l,setPageIndex:s,jumpPage:P,prevPage:x,nextPage:N}=p(),V=e.computed(()=>g(r.value,l.value,o.value));return{totalPage:r,pageIndex:l,setPageIndex:s,jumpPage:P,prevPage:x,nextPage:N,centerPages:V}},render(){const{pagerCount:a,totalPage:n,pageIndex:t,setPageIndex:o,jumpPage:r,centerPages:l}=this;return e.createVNode("ul",{class:"s-pager"},[e.createVNode("li",{onClick:()=>o(1),class:{current:t===1}},[e.createTextVNode("1")]),n>a&&t>Math.ceil(a/2)&&e.createVNode("li",{class:"more left",onClick:()=>r(-5)},[e.createTextVNode("...")]),l.map(s=>e.createVNode("li",{onClick:()=>o(s),class:{current:t===s}},[s])),n>a&&t<n-Math.ceil(a/2)+1&&e.createVNode("li",{class:"more right",onClick:()=>r(5)},[e.createTextVNode("...")]),n>1&&e.createVNode("li",{onClick:()=>o(n),class:{current:t===n}},[n])])}}),d=e.defineComponent({name:"SPagination",props:u,emits:["update:modelValue"],setup(a,{emit:n}){const t=e.ref(),o=e.computed(()=>t.value?t.value.pageIndex<2:!0),r=e.computed(()=>t.value?t.value.pageIndex>t.value.totalPage-1:!0);return e.onMounted(()=>{e.watch(()=>t.value.pageIndex,l=>{n("update:modelValue",l)}),e.watch(()=>a.modelValue,l=>{t.value.pageIndex=l})}),()=>e.createVNode("div",{class:"s-pagination"},[e.createVNode("button",{disabled:o.value,onClick:()=>t.value.prevPage()},[e.createTextVNode("上一页")]),e.createVNode(i,e.mergeProps(a,{ref:t}),null),e.createVNode("button",{disabled:r.value,onClick:()=>t.value.nextPage()},[e.createTextVNode("下一页")])])}}),f={install(a){a.component(d.name,d),a.component(i.name,i)}};c.Pager=i,c.Pagination=d,c.default=f,Object.defineProperties(c,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
