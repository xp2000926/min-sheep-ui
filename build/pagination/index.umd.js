(function(c,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(c=typeof globalThis<"u"?globalThis:c||self,e(c.index={},c.Vue))})(this,function(c,e){"use strict";const g={total:{type:Number,default:0},pageSize:{type:Number,default:10},pagerCount:{type:Number,default:5},modelValue:{type:Number,default:1},hideOnSinglePage:{type:Boolean,default:!0}},b="",y="";function p(n=1){const a=e.ref(n),t=s=>{a.value=s},o=s=>{a.value+=s};return{pageIndex:a,setPageIndex:t,jumpPage:o,prevPage:()=>o(-1),nextPage:()=>o(1)}}const m=(n,a,t)=>{console.log(n,a,t);const o=Array.from(Array(n).keys());if(n<=t)return o.slice(2,n);{const l=Math.ceil(t/2);return a<=l?o.slice(2,t):a>=n-l+1?o.slice(n-t+2,n):o.slice(a-l+2,a+l-1)}},f=g,d=e.defineComponent({name:"SPager",props:f,setup(n){const{total:a,pageSize:t,pagerCount:o,hideOnSinglePage:l}=e.toRefs(n),r=e.computed(()=>Math.ceil(a.value/t.value)),{pageIndex:s,setPageIndex:i,jumpPage:N,prevPage:V,nextPage:x}=p(),h=e.computed(()=>m(r.value,s.value,o.value));return{totalPage:r,pageIndex:s,setPageIndex:i,jumpPage:N,prevPage:V,nextPage:x,centerPages:h,hideOnSinglePage:l}},render(){const{pagerCount:n,totalPage:a,pageIndex:t,setPageIndex:o,jumpPage:l,centerPages:r,hideOnSinglePage:s}=this;return e.createVNode(e.Fragment,null,[s&&r.length>=0&&e.createVNode("ul",{class:"s-pager"},[e.createVNode("li",{onClick:()=>o(1),class:{current:t===1}},[e.createTextVNode("1")]),a>n&&t>Math.ceil(n/2)&&e.createVNode("li",{class:"more left",onClick:()=>l(-5)},[e.createTextVNode("...")]),r.map(i=>e.createVNode("li",{onClick:()=>o(i),class:{current:t===i}},[i])),a>n&&t<a-Math.ceil(n/2)+1&&e.createVNode("li",{class:"more right",onClick:()=>l(5)},[e.createTextVNode("...")]),a>1&&e.createVNode("li",{onClick:()=>o(a),class:{current:t===a}},[a])])])}}),u=e.defineComponent({name:"SPagination",props:g,emits:["update:modelValue"],setup(n,{emit:a}){const t=e.ref(),o=e.computed(()=>t.value?t.value.pageIndex<2:!0),l=e.computed(()=>t.value?t.value.pageIndex>t.value.totalPage-1:!0);return e.onMounted(()=>{e.watch(()=>t.value.pageIndex,r=>{a("update:modelValue",r)}),e.watch(()=>n.modelValue,r=>{t.value.pageIndex=r})}),()=>e.createVNode("div",{class:"s-pagination"},[e.createVNode("button",{disabled:o.value,onClick:()=>t.value.prevPage()},[e.createTextVNode("上一页")]),e.createVNode(d,e.mergeProps(n,{ref:t}),null),e.createVNode("button",{disabled:l.value,onClick:()=>t.value.nextPage()},[e.createTextVNode("下一页")])])}}),P={install(n){n.component(u.name,u),n.component(d.name,d)}};c.Pager=d,c.Pagination=u,c.default=P,Object.defineProperties(c,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
