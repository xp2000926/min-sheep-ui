(function(R,p){typeof exports=="object"&&typeof module<"u"?p(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],p):(R=typeof globalThis<"u"?globalThis:R||self,p(R.index={},R.Vue))})(this,function(R,p){"use strict";const ft={modelValue:{type:Boolean,default:!1},host:{type:Object,default:()=>null},title:{type:String,default:""},showArrow:{type:Boolean,default:!1},placement:{type:String,default:"bottom"}},kt="",_t="",ut={modelValue:{type:Boolean,default:!1},host:{type:Object,default:()=>null},showArrow:{type:Boolean,default:!1},placement:{type:String,default:"bottom"}};function $(t){return t.split("-")[1]}function Y(t){return t==="y"?"height":"width"}function j(t){return t.split("-")[0]}function M(t){return["top","bottom"].includes(j(t))?"x":"y"}function q(t,e,n){let{reference:i,floating:o}=t;const l=i.x+i.width/2-o.width/2,s=i.y+i.height/2-o.height/2,r=M(e),c=Y(r),a=i[c]/2-o[c]/2,d=j(e),f=r==="x";let u;switch(d){case"top":u={x:l,y:i.y-o.height};break;case"bottom":u={x:l,y:i.y+i.height};break;case"right":u={x:i.x+i.width,y:s};break;case"left":u={x:i.x-o.width,y:s};break;default:u={x:i.x,y:i.y}}switch($(e)){case"start":u[r]-=a*(n&&f?-1:1);break;case"end":u[r]+=a*(n&&f?-1:1);break}return u}const dt=async(t,e,n)=>{const{placement:i="bottom",strategy:o="absolute",middleware:l=[],platform:s}=n,r=l.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(e));if(process.env.NODE_ENV!=="production"){if(s==null&&console.error(["Floating UI: `platform` property was not passed to config. If you","want to use Floating UI on the web, install @floating-ui/dom","instead of the /core package. Otherwise, you can create your own","`platform`: https://floating-ui.com/docs/platform"].join(" ")),r.filter(x=>{let{name:A}=x;return A==="autoPlacement"||A==="flip"}).length>1)throw new Error(["Floating UI: duplicate `flip` and/or `autoPlacement` middleware","detected. This will lead to an infinite loop. Ensure only one of","either has been passed to the `middleware` array."].join(" "));(!t||!e)&&console.error(["Floating UI: The reference and/or floating element was not defined","when `computePosition()` was called. Ensure that both elements have","been created and can be measured."].join(" "))}let a=await s.getElementRects({reference:t,floating:e,strategy:o}),{x:d,y:f}=q(a,i,c),u=i,h={},m=0;for(let x=0;x<r.length;x++){const{name:A,fn:g}=r[x],{x:w,y,data:C,reset:b}=await g({x:d,y:f,initialPlacement:i,placement:u,strategy:o,middlewareData:h,rects:a,platform:s,elements:{reference:t,floating:e}});if(d=w??d,f=y??f,h={...h,[A]:{...h[A],...C}},process.env.NODE_ENV!=="production"&&m>50&&console.warn(["Floating UI: The middleware lifecycle appears to be running in an","infinite loop. This is usually caused by a `reset` continually","being returned without a break condition."].join(" ")),b&&m<=50){m++,typeof b=="object"&&(b.placement&&(u=b.placement),b.rects&&(a=b.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:o}):b.rects),{x:d,y:f}=q(a,u,c)),x=-1;continue}}return{x:d,y:f,placement:u,strategy:o,middlewareData:h}};function pt(t){return{top:0,right:0,bottom:0,left:0,...t}}function ht(t){return typeof t!="number"?pt(t):{top:t,right:t,bottom:t,left:t}}function z(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}const mt=Math.min,gt=Math.max;function wt(t,e,n){return gt(t,mt(e,n))}const yt=t=>({name:"arrow",options:t,async fn(e){const{element:n,padding:i=0}=t||{},{x:o,y:l,placement:s,rects:r,platform:c}=e;if(n==null)return process.env.NODE_ENV!=="production"&&console.warn("Floating UI: No `element` was passed to the `arrow` middleware."),{};const a=ht(i),d={x:o,y:l},f=M(s),u=Y(f),h=await c.getDimensions(n),m=f==="y"?"top":"left",x=f==="y"?"bottom":"right",A=r.reference[u]+r.reference[f]-d[f]-r.floating[u],g=d[f]-r.reference[f],w=await(c.getOffsetParent==null?void 0:c.getOffsetParent(n));let y=w?f==="y"?w.clientHeight||0:w.clientWidth||0:0;y===0&&(y=r.floating[u]);const C=A/2-g/2,b=a[m],at=y-h[u]-a[x],N=y/2-h[u]/2+C,X=wt(b,N,at),Bt=$(s)!=null&&N!=X&&r.reference[u]/2-(N<b?a[m]:a[x])-h[u]/2<0?N<b?b-N:at-N:0;return{[f]:d[f]-Bt,data:{[f]:X,centerOffset:N-X}}}});async function xt(t,e){const{placement:n,platform:i,elements:o}=t,l=await(i.isRTL==null?void 0:i.isRTL(o.floating)),s=j(n),r=$(n),c=M(n)==="x",a=["left","top"].includes(s)?-1:1,d=l&&c?-1:1,f=typeof e=="function"?e(t):e;let{mainAxis:u,crossAxis:h,alignmentAxis:m}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return r&&typeof m=="number"&&(h=r==="end"?m*-1:m),c?{x:h*d,y:u*a}:{x:u*a,y:h*d}}const bt=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){const{x:n,y:i}=e,o=await xt(e,t);return{x:n+o.x,y:i+o.y,data:o}}}};function v(t){var e;return((e=t.ownerDocument)==null?void 0:e.defaultView)||window}function T(t){return v(t).getComputedStyle(t)}function E(t){return G(t)?(t.nodeName||"").toLowerCase():""}let B;function K(){if(B)return B;const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?(B=t.brands.map(e=>e.brand+"/"+e.version).join(" "),B):navigator.userAgent}function O(t){return t instanceof v(t).HTMLElement}function V(t){return t instanceof v(t).Element}function G(t){return t instanceof v(t).Node}function J(t){if(typeof ShadowRoot>"u")return!1;const e=v(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function k(t){const{overflow:e,overflowX:n,overflowY:i,display:o}=T(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!["inline","contents"].includes(o)}function vt(t){return["table","td","th"].includes(E(t))}function I(t){const e=/firefox/i.test(K()),n=T(t),i=n.backdropFilter||n.WebkitBackdropFilter;return n.transform!=="none"||n.perspective!=="none"||(i?i!=="none":!1)||e&&n.willChange==="filter"||e&&(n.filter?n.filter!=="none":!1)||["transform","perspective"].some(o=>n.willChange.includes(o))||["paint","layout","strict","content"].some(o=>{const l=n.contain;return l!=null?l.includes(o):!1})}function Q(){return!/^((?!chrome|android).)*safari/i.test(K())}function H(t){return["html","body","#document"].includes(E(t))}const Z=Math.min,F=Math.max,_=Math.round;function tt(t){const e=T(t);let n=parseFloat(e.width),i=parseFloat(e.height);const o=t.offsetWidth,l=t.offsetHeight,s=_(n)!==o||_(i)!==l;return s&&(n=o,i=l),{width:n,height:i,fallback:s}}function et(t){return V(t)?t:t.contextElement}const nt={x:1,y:1};function D(t){const e=et(t);if(!O(e))return nt;const n=e.getBoundingClientRect(),{width:i,height:o,fallback:l}=tt(e);let s=(l?_(n.width):n.width)/i,r=(l?_(n.height):n.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!r||!Number.isFinite(r))&&(r=1),{x:s,y:r}}function S(t,e,n,i){var o,l;e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),r=et(t);let c=nt;e&&(i?V(i)&&(c=D(i)):c=D(t));const a=r?v(r):window,d=!Q()&&n;let f=(s.left+(d&&((o=a.visualViewport)==null?void 0:o.offsetLeft)||0))/c.x,u=(s.top+(d&&((l=a.visualViewport)==null?void 0:l.offsetTop)||0))/c.y,h=s.width/c.x,m=s.height/c.y;if(r){const x=v(r),A=i&&V(i)?v(i):i;let g=x.frameElement;for(;g&&i&&A!==x;){const w=D(g),y=g.getBoundingClientRect(),C=getComputedStyle(g);y.x+=(g.clientLeft+parseFloat(C.paddingLeft))*w.x,y.y+=(g.clientTop+parseFloat(C.paddingTop))*w.y,f*=w.x,u*=w.y,h*=w.x,m*=w.y,f+=y.x,u+=y.y,g=v(g).frameElement}}return{width:h,height:m,top:u,right:f+h,bottom:u+m,left:f,x:f,y:u}}function L(t){return((G(t)?t.ownerDocument:t.document)||window.document).documentElement}function W(t){return V(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function ot(t){return S(L(t)).left+W(t).scrollLeft}function At(t,e,n){const i=O(e),o=L(e),l=S(t,!0,n==="fixed",e);let s={scrollLeft:0,scrollTop:0};const r={x:0,y:0};if(i||!i&&n!=="fixed")if((E(e)!=="body"||k(o))&&(s=W(e)),O(e)){const c=S(e,!0);r.x=c.x+e.clientLeft,r.y=c.y+e.clientTop}else o&&(r.x=ot(o));return{x:l.left+s.scrollLeft-r.x,y:l.top+s.scrollTop-r.y,width:l.width,height:l.height}}function P(t){if(E(t)==="html")return t;const e=t.assignedSlot||t.parentNode||(J(t)?t.host:null)||L(t);return J(e)?e.host:e}function it(t){return!O(t)||T(t).position==="fixed"?null:t.offsetParent}function Tt(t){let e=P(t);for(;O(e)&&!H(e);){if(I(e))return e;e=P(e)}return null}function rt(t){const e=v(t);let n=it(t);for(;n&&vt(n)&&T(n).position==="static";)n=it(n);return n&&(E(n)==="html"||E(n)==="body"&&T(n).position==="static"&&!I(n))?e:n||Tt(t)||e}function Ct(t){return tt(t)}function Ot(t){let{rect:e,offsetParent:n,strategy:i}=t;const o=O(n),l=L(n);if(n===l)return e;let s={scrollLeft:0,scrollTop:0},r={x:1,y:1};const c={x:0,y:0};if((o||!o&&i!=="fixed")&&((E(n)!=="body"||k(l))&&(s=W(n)),O(n))){const a=S(n);r=D(n),c.x=a.x+n.clientLeft,c.y=a.y+n.clientTop}return{width:e.width*r.x,height:e.height*r.y,x:e.x*r.x-s.scrollLeft*r.x+c.x,y:e.y*r.y-s.scrollTop*r.y+c.y}}function Rt(t,e){const n=v(t),i=L(t),o=n.visualViewport;let l=i.clientWidth,s=i.clientHeight,r=0,c=0;if(o){l=o.width,s=o.height;const a=Q();(a||!a&&e==="fixed")&&(r=o.offsetLeft,c=o.offsetTop)}return{width:l,height:s,x:r,y:c}}function Et(t){var e;const n=L(t),i=W(t),o=(e=t.ownerDocument)==null?void 0:e.body,l=F(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),s=F(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0);let r=-i.scrollLeft+ot(t);const c=-i.scrollTop;return T(o||n).direction==="rtl"&&(r+=F(n.clientWidth,o?o.clientWidth:0)-l),{width:l,height:s,x:r,y:c}}function st(t){const e=P(t);return H(e)?t.ownerDocument.body:O(e)&&k(e)?e:st(e)}function lt(t,e){var n;e===void 0&&(e=[]);const i=st(t),o=i===((n=t.ownerDocument)==null?void 0:n.body),l=v(i);return o?e.concat(l,l.visualViewport||[],k(i)?i:[]):e.concat(i,lt(i))}function Vt(t,e){const n=S(t,!0,e==="fixed"),i=n.top+t.clientTop,o=n.left+t.clientLeft,l=O(t)?D(t):{x:1,y:1},s=t.clientWidth*l.x,r=t.clientHeight*l.y,c=o*l.x,a=i*l.y;return{top:a,left:c,right:c+s,bottom:a+r,x:c,y:a,width:s,height:r}}function ct(t,e,n){return e==="viewport"?z(Rt(t,n)):V(e)?Vt(e,n):z(Et(L(t)))}function Lt(t,e){const n=e.get(t);if(n)return n;let i=lt(t).filter(r=>V(r)&&E(r)!=="body"),o=null;const l=T(t).position==="fixed";let s=l?P(t):t;for(;V(s)&&!H(s);){const r=T(s),c=I(s);(l?!c&&!o:!c&&r.position==="static"&&!!o&&["absolute","fixed"].includes(o.position))?i=i.filter(d=>d!==s):o=r,s=P(s)}return e.set(t,i),i}function Nt(t){let{element:e,boundary:n,rootBoundary:i,strategy:o}=t;const s=[...n==="clippingAncestors"?Lt(e,this._c):[].concat(n),i],r=s[0],c=s.reduce((a,d)=>{const f=ct(e,d,o);return a.top=F(f.top,a.top),a.right=Z(f.right,a.right),a.bottom=Z(f.bottom,a.bottom),a.left=F(f.left,a.left),a},ct(e,r,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}const Dt={getClippingRect:Nt,convertOffsetParentRelativeRectToViewportRelativeRect:Ot,isElement:V,getDimensions:Ct,getOffsetParent:rt,getDocumentElement:L,getScale:D,async getElementRects(t){let{reference:e,floating:n,strategy:i}=t;const o=this.getOffsetParent||rt,l=this.getDimensions;return{reference:At(e,await o(n),i),floating:{x:0,y:0,...await l(n)}}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>T(t).direction==="rtl"},Ft=(t,e,n)=>{const i=new Map,o={platform:Dt,...n},l={...o.platform,_c:i};return dt(t,e,{...o,platform:l})},Wt="",St=p.defineComponent({name:"SBasePopover",props:ut,emits:["update:modelValue"],setup(t,{slots:e,attrs:n}){const{host:i,modelValue:o,showArrow:l,placement:s}=p.toRefs(t),r=p.ref(),c=p.ref(),a=()=>{const d=[];l.value&&(d.push(bt(8)),d.push(yt({element:r.value}))),Ft(i.value,c.value,{middleware:d,placement:s.value}).then(({x:f,y:u,middlewareData:h,placement:m})=>{if(Object.assign(c.value.style,{left:`${f}px`,top:`${u}px`}),l.value){const{x,y:A}=h.arrow,g=m.split("-")[0],w={top:"bottom",right:"left",bottom:"top",left:"right"}[g],y=["top","right","bottom","left"],C=y.indexOf(g)-1,b=y[C<0?C+4:C];Object.assign(r.value.style,{left:`${x}px`,top:`${A}px`,[w]:"-4px",[`border-${g}-color`]:"transparent",[`border-${b}-color`]:"transparent"})}})};return p.watch(o,d=>{d&&p.nextTick(a)},{immediate:!0}),()=>{var d;return p.createVNode(p.Fragment,null,[o.value&&p.createVNode("div",p.mergeProps({ref:c,class:"s-base-popover"},n),[(d=e.default)==null?void 0:d.call(e),l.value&&p.createVNode("div",{class:"s-base-popover__arrow",ref:r},null)])])}}}),U=p.defineComponent({name:"SPopover",props:ft,emits:["update:modelValue"],setup(t,{slots:e}){const{modelValue:n,title:i}=p.toRefs(t);return()=>p.createVNode(p.Fragment,null,[n.value&&p.createVNode(St,p.mergeProps({class:"s-popover"},t),{default:()=>{var o;return[p.createVNode("h4",{class:"s-popover__title"},[i.value]),(o=e.default)==null?void 0:o.call(e)]}})])}}),Pt={install(t){t.component(U.name,U)}};R.Popover=U,R.default=Pt,Object.defineProperties(R,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
