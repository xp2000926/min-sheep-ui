(function(T,h){typeof exports=="object"&&typeof module<"u"?h(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],h):(T=typeof globalThis<"u"?globalThis:T||self,h(T.index={},T.Vue))})(this,function(T,h){"use strict";const ht={modelValue:{type:Boolean,default:!1},host:{type:Object,default:()=>null},title:{type:String,default:""},showArrow:{type:Boolean,default:!1},placement:{type:String,default:"bottom"}},qt="",Kt="",wt={modelValue:{type:Boolean,default:!1},host:{type:Object,default:()=>null},showArrow:{type:Boolean,default:!1},placement:{type:String,default:"bottom"}};function V(t){return t.split("-")[1]}function Y(t){return t==="y"?"height":"width"}function F(t){return t.split("-")[0]}function M(t){return["top","bottom"].includes(F(t))?"x":"y"}function Q(t,e,n){let{reference:i,floating:o}=t;const r=i.x+i.width/2-o.width/2,l=i.y+i.height/2-o.height/2,s=M(e),c=Y(s),f=i[c]/2-o[c]/2,d=F(e),a=s==="x";let u;switch(d){case"top":u={x:r,y:i.y-o.height};break;case"bottom":u={x:r,y:i.y+i.height};break;case"right":u={x:i.x+i.width,y:l};break;case"left":u={x:i.x-o.width,y:l};break;default:u={x:i.x,y:i.y}}switch(V(e)){case"start":u[s]-=f*(n&&a?-1:1);break;case"end":u[s]+=f*(n&&a?-1:1);break}return u}const yt=async(t,e,n)=>{const{placement:i="bottom",strategy:o="absolute",middleware:r=[],platform:l}=n,s=r.filter(Boolean),c=await(l.isRTL==null?void 0:l.isRTL(e));if(process.env.NODE_ENV!=="production"){if(l==null&&console.error(["Floating UI: `platform` property was not passed to config. If you","want to use Floating UI on the web, install @floating-ui/dom","instead of the /core package. Otherwise, you can create your own","`platform`: https://floating-ui.com/docs/platform"].join(" ")),s.filter(b=>{let{name:x}=b;return x==="autoPlacement"||x==="flip"}).length>1)throw new Error(["Floating UI: duplicate `flip` and/or `autoPlacement` middleware","detected. This will lead to an infinite loop. Ensure only one of","either has been passed to the `middleware` array."].join(" "));(!t||!e)&&console.error(["Floating UI: The reference and/or floating element was not defined","when `computePosition()` was called. Ensure that both elements have","been created and can be measured."].join(" "))}let f=await l.getElementRects({reference:t,floating:e,strategy:o}),{x:d,y:a}=Q(f,i,c),u=i,w={},p=0;for(let b=0;b<s.length;b++){const{name:x,fn:m}=s[b],{x:y,y:v,data:O,reset:g}=await m({x:d,y:a,initialPlacement:i,placement:u,strategy:o,middlewareData:w,rects:f,platform:l,elements:{reference:t,floating:e}});if(d=y??d,a=v??a,w={...w,[x]:{...w[x],...O}},process.env.NODE_ENV!=="production"&&p>50&&console.warn(["Floating UI: The middleware lifecycle appears to be running in an","infinite loop. This is usually caused by a `reset` continually","being returned without a break condition."].join(" ")),g&&p<=50){p++,typeof g=="object"&&(g.placement&&(u=g.placement),g.rects&&(f=g.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:o}):g.rects),{x:d,y:a}=Q(f,u,c)),b=-1;continue}}return{x:d,y:a,placement:u,strategy:o,middlewareData:w}};function xt(t){return{top:0,right:0,bottom:0,left:0,...t}}function Z(t){return typeof t!="number"?xt(t):{top:t,right:t,bottom:t,left:t}}function j(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}async function vt(t,e){var n;e===void 0&&(e={});const{x:i,y:o,platform:r,rects:l,elements:s,strategy:c}=t,{boundary:f="clippingAncestors",rootBoundary:d="viewport",elementContext:a="floating",altBoundary:u=!1,padding:w=0}=e,p=Z(w),x=s[u?a==="floating"?"reference":"floating":a],m=j(await r.getClippingRect({element:(n=await(r.isElement==null?void 0:r.isElement(x)))==null||n?x:x.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(s.floating)),boundary:f,rootBoundary:d,strategy:c})),y=a==="floating"?{...l.floating,x:i,y:o}:l.reference,v=await(r.getOffsetParent==null?void 0:r.getOffsetParent(s.floating)),O=await(r.isElement==null?void 0:r.isElement(v))?await(r.getScale==null?void 0:r.getScale(v))||{x:1,y:1}:{x:1,y:1},g=j(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({rect:y,offsetParent:v,strategy:c}):y);return process.env.NODE_ENV,{top:(m.top-g.top+p.top)/O.y,bottom:(g.bottom-m.bottom+p.bottom)/O.y,left:(m.left-g.left+p.left)/O.x,right:(g.right-m.right+p.right)/O.x}}const bt=Math.min,Ot=Math.max;function Et(t,e,n){return Ot(t,bt(e,n))}const At=t=>({name:"arrow",options:t,async fn(e){const{element:n,padding:i=0}=t||{},{x:o,y:r,placement:l,rects:s,platform:c}=e;if(n==null)return process.env.NODE_ENV!=="production"&&console.warn("Floating UI: No `element` was passed to the `arrow` middleware."),{};const f=Z(i),d={x:o,y:r},a=M(l),u=Y(a),w=await c.getDimensions(n),p=a==="y"?"top":"left",b=a==="y"?"bottom":"right",x=s.reference[u]+s.reference[a]-d[a]-s.floating[u],m=d[a]-s.reference[a],y=await(c.getOffsetParent==null?void 0:c.getOffsetParent(n));let v=y?a==="y"?y.clientHeight||0:y.clientWidth||0:0;v===0&&(v=s.floating[u]);const O=x/2-m/2,g=f[p],D=v-w[u]-f[b],R=v/2-w[u]/2+O,X=Et(g,R,D),$=V(l)!=null&&R!=X&&s.reference[u]/2-(R<g?f[p]:f[b])-w[u]/2<0?R<g?g-R:D-R:0;return{[a]:d[a]-$,data:{[a]:X,centerOffset:R-X}}}}),tt=["top","right","bottom","left"].reduce((t,e)=>t.concat(e,e+"-start",e+"-end"),[]),Rt={left:"right",right:"left",bottom:"top",top:"bottom"};function et(t){return t.replace(/left|right|bottom|top/g,e=>Rt[e])}function Pt(t,e,n){n===void 0&&(n=!1);const i=V(t),o=M(t),r=Y(o);let l=o==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[r]>e.floating[r]&&(l=et(l)),{main:l,cross:et(l)}}const Tt={start:"end",end:"start"};function Ct(t){return t.replace(/start|end/g,e=>Tt[e])}function Lt(t,e,n){return(t?[...n.filter(o=>V(o)===t),...n.filter(o=>V(o)!==t)]:n.filter(o=>F(o)===o)).filter(o=>t?V(o)===t||(e?Ct(o)!==o:!1):!0)}const St=function(t){return t===void 0&&(t={}),{name:"autoPlacement",options:t,async fn(e){var n,i,o;const{rects:r,middlewareData:l,placement:s,platform:c,elements:f}=e,{alignment:d,allowedPlacements:a=tt,autoAlignment:u=!0,...w}=t,p=d!==void 0||a===tt?Lt(d||null,u,a):a,b=await vt(e,w),x=((n=l.autoPlacement)==null?void 0:n.index)||0,m=p[x];if(m==null)return{};const{main:y,cross:v}=Pt(m,r,await(c.isRTL==null?void 0:c.isRTL(f.floating)));if(s!==m)return{reset:{placement:p[0]}};const O=[b[F(m)],b[y],b[v]],g=[...((i=l.autoPlacement)==null?void 0:i.overflows)||[],{placement:m,overflows:O}],D=p[x+1];if(D)return{data:{index:x+1,overflows:g},reset:{placement:D}};const R=g.slice().sort(($,J)=>$.overflows[0]-J.overflows[0]),G=((o=R.find($=>{let{overflows:J}=$;return J.every(zt=>zt<=0)}))==null?void 0:o.placement)||R[0].placement;return G!==s?{data:{index:x+1,overflows:g},reset:{placement:G}}:{}}}};async function Vt(t,e){const{placement:n,platform:i,elements:o}=t,r=await(i.isRTL==null?void 0:i.isRTL(o.floating)),l=F(n),s=V(n),c=M(n)==="x",f=["left","top"].includes(l)?-1:1,d=r&&c?-1:1,a=typeof e=="function"?e(t):e;let{mainAxis:u,crossAxis:w,alignmentAxis:p}=typeof a=="number"?{mainAxis:a,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...a};return s&&typeof p=="number"&&(w=s==="end"?p*-1:p),c?{x:w*d,y:u*f}:{x:u*f,y:w*d}}const Dt=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){const{x:n,y:i}=e,o=await Vt(e,t);return{x:n+o.x,y:i+o.y,data:o}}}};function E(t){var e;return((e=t.ownerDocument)==null?void 0:e.defaultView)||window}function A(t){return E(t).getComputedStyle(t)}function C(t){return ot(t)?(t.nodeName||"").toLowerCase():""}let W;function nt(){if(W)return W;const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?(W=t.brands.map(e=>e.brand+"/"+e.version).join(" "),W):navigator.userAgent}function P(t){return t instanceof E(t).HTMLElement}function L(t){return t instanceof E(t).Element}function ot(t){return t instanceof E(t).Node}function it(t){if(typeof ShadowRoot>"u")return!1;const e=E(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function I(t){const{overflow:e,overflowX:n,overflowY:i,display:o}=A(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!["inline","contents"].includes(o)}function Nt(t){return["table","td","th"].includes(C(t))}function z(t){const e=/firefox/i.test(nt()),n=A(t),i=n.backdropFilter||n.WebkitBackdropFilter;return n.transform!=="none"||n.perspective!=="none"||(i?i!=="none":!1)||e&&n.willChange==="filter"||e&&(n.filter?n.filter!=="none":!1)||["transform","perspective"].some(o=>n.willChange.includes(o))||["paint","layout","strict","content"].some(o=>{const r=n.contain;return r!=null?r.includes(o):!1})}function rt(){return!/^((?!chrome|android).)*safari/i.test(nt())}function q(t){return["html","body","#document"].includes(C(t))}const st=Math.min,B=Math.max,H=Math.round;function lt(t){const e=A(t);let n=parseFloat(e.width),i=parseFloat(e.height);const o=t.offsetWidth,r=t.offsetHeight,l=H(n)!==o||H(i)!==r;return l&&(n=o,i=r),{width:n,height:i,fallback:l}}function ct(t){return L(t)?t:t.contextElement}const at={x:1,y:1};function N(t){const e=ct(t);if(!P(e))return at;const n=e.getBoundingClientRect(),{width:i,height:o,fallback:r}=lt(e);let l=(r?H(n.width):n.width)/i,s=(r?H(n.height):n.height)/o;return(!l||!Number.isFinite(l))&&(l=1),(!s||!Number.isFinite(s))&&(s=1),{x:l,y:s}}function _(t,e,n,i){var o,r;e===void 0&&(e=!1),n===void 0&&(n=!1);const l=t.getBoundingClientRect(),s=ct(t);let c=at;e&&(i?L(i)&&(c=N(i)):c=N(t));const f=s?E(s):window,d=!rt()&&n;let a=(l.left+(d&&((o=f.visualViewport)==null?void 0:o.offsetLeft)||0))/c.x,u=(l.top+(d&&((r=f.visualViewport)==null?void 0:r.offsetTop)||0))/c.y,w=l.width/c.x,p=l.height/c.y;if(s){const b=E(s),x=i&&L(i)?E(i):i;let m=b.frameElement;for(;m&&i&&x!==b;){const y=N(m),v=m.getBoundingClientRect(),O=getComputedStyle(m);v.x+=(m.clientLeft+parseFloat(O.paddingLeft))*y.x,v.y+=(m.clientTop+parseFloat(O.paddingTop))*y.y,a*=y.x,u*=y.y,w*=y.x,p*=y.y,a+=v.x,u+=v.y,m=E(m).frameElement}}return{width:w,height:p,top:u,right:a+w,bottom:u+p,left:a,x:a,y:u}}function S(t){return((ot(t)?t.ownerDocument:t.document)||window.document).documentElement}function U(t){return L(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function ft(t){return _(S(t)).left+U(t).scrollLeft}function Ft(t,e,n){const i=P(e),o=S(e),r=_(t,!0,n==="fixed",e);let l={scrollLeft:0,scrollTop:0};const s={x:0,y:0};if(i||!i&&n!=="fixed")if((C(e)!=="body"||I(o))&&(l=U(e)),P(e)){const c=_(e,!0);s.x=c.x+e.clientLeft,s.y=c.y+e.clientTop}else o&&(s.x=ft(o));return{x:r.left+l.scrollLeft-s.x,y:r.top+l.scrollTop-s.y,width:r.width,height:r.height}}function k(t){if(C(t)==="html")return t;const e=t.assignedSlot||t.parentNode||(it(t)?t.host:null)||S(t);return it(e)?e.host:e}function ut(t){return!P(t)||A(t).position==="fixed"?null:t.offsetParent}function Bt(t){let e=k(t);for(;P(e)&&!q(e);){if(z(e))return e;e=k(e)}return null}function dt(t){const e=E(t);let n=ut(t);for(;n&&Nt(n)&&A(n).position==="static";)n=ut(n);return n&&(C(n)==="html"||C(n)==="body"&&A(n).position==="static"&&!z(n))?e:n||Bt(t)||e}function _t(t){return lt(t)}function kt(t){let{rect:e,offsetParent:n,strategy:i}=t;const o=P(n),r=S(n);if(n===r)return e;let l={scrollLeft:0,scrollTop:0},s={x:1,y:1};const c={x:0,y:0};if((o||!o&&i!=="fixed")&&((C(n)!=="body"||I(r))&&(l=U(n)),P(n))){const f=_(n);s=N(n),c.x=f.x+n.clientLeft,c.y=f.y+n.clientTop}return{width:e.width*s.x,height:e.height*s.y,x:e.x*s.x-l.scrollLeft*s.x+c.x,y:e.y*s.y-l.scrollTop*s.y+c.y}}function $t(t,e){const n=E(t),i=S(t),o=n.visualViewport;let r=i.clientWidth,l=i.clientHeight,s=0,c=0;if(o){r=o.width,l=o.height;const f=rt();(f||!f&&e==="fixed")&&(s=o.offsetLeft,c=o.offsetTop)}return{width:r,height:l,x:s,y:c}}function Mt(t){var e;const n=S(t),i=U(t),o=(e=t.ownerDocument)==null?void 0:e.body,r=B(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),l=B(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0);let s=-i.scrollLeft+ft(t);const c=-i.scrollTop;return A(o||n).direction==="rtl"&&(s+=B(n.clientWidth,o?o.clientWidth:0)-r),{width:r,height:l,x:s,y:c}}function pt(t){const e=k(t);return q(e)?t.ownerDocument.body:P(e)&&I(e)?e:pt(e)}function mt(t,e){var n;e===void 0&&(e=[]);const i=pt(t),o=i===((n=t.ownerDocument)==null?void 0:n.body),r=E(i);return o?e.concat(r,r.visualViewport||[],I(i)?i:[]):e.concat(i,mt(i))}function jt(t,e){const n=_(t,!0,e==="fixed"),i=n.top+t.clientTop,o=n.left+t.clientLeft,r=P(t)?N(t):{x:1,y:1},l=t.clientWidth*r.x,s=t.clientHeight*r.y,c=o*r.x,f=i*r.y;return{top:f,left:c,right:c+l,bottom:f+s,x:c,y:f,width:l,height:s}}function gt(t,e,n){return e==="viewport"?j($t(t,n)):L(e)?jt(e,n):j(Mt(S(t)))}function Wt(t,e){const n=e.get(t);if(n)return n;let i=mt(t).filter(s=>L(s)&&C(s)!=="body"),o=null;const r=A(t).position==="fixed";let l=r?k(t):t;for(;L(l)&&!q(l);){const s=A(l),c=z(l);(r?!c&&!o:!c&&s.position==="static"&&!!o&&["absolute","fixed"].includes(o.position))?i=i.filter(d=>d!==l):o=s,l=k(l)}return e.set(t,i),i}function It(t){let{element:e,boundary:n,rootBoundary:i,strategy:o}=t;const l=[...n==="clippingAncestors"?Wt(e,this._c):[].concat(n),i],s=l[0],c=l.reduce((f,d)=>{const a=gt(e,d,o);return f.top=B(a.top,f.top),f.right=st(a.right,f.right),f.bottom=st(a.bottom,f.bottom),f.left=B(a.left,f.left),f},gt(e,s,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}const Ht={getClippingRect:It,convertOffsetParentRelativeRectToViewportRelativeRect:kt,isElement:L,getDimensions:_t,getOffsetParent:dt,getDocumentElement:S,getScale:N,async getElementRects(t){let{reference:e,floating:n,strategy:i}=t;const o=this.getOffsetParent||dt,r=this.getDimensions;return{reference:Ft(e,await o(n),i),floating:{x:0,y:0,...await r(n)}}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>A(t).direction==="rtl"},Ut=(t,e,n)=>{const i=new Map,o={platform:Ht,...n},r={...o.platform,_c:i};return yt(t,e,{...o,platform:r})},Jt="",Xt=h.defineComponent({name:"SBasePopover",props:wt,emits:["update:modelValue"],setup(t,{slots:e,attrs:n}){const{host:i,modelValue:o,showArrow:r,placement:l}=h.toRefs(t),s=h.ref(),c=h.ref(),f=()=>{const a=[];r.value&&(a.push(Dt(8)),a.push(At({element:s.value}))),l.value||a.push(St()),Ut(i.value,c.value,{middleware:a,placement:l.value||"bottom"}).then(({x:u,y:w,middlewareData:p,placement:b})=>{if(Object.assign(c.value.style,{left:`${u}px`,top:`${w}px`}),r.value){const{x,y:m}=p.arrow,y=b.split("-")[0],v={top:"bottom",right:"left",bottom:"top",left:"right"}[y],O=["top","right","bottom","left"],g=O.indexOf(y)-1,D=O[g<0?g+4:g];Object.assign(s.value.style,{left:`${x}px`,top:`${m}px`,[v]:"-4px",[`border-${y}-color`]:"transparent",[`border-${D}-color`]:"transparent"})}})},d=new MutationObserver(()=>f());return h.watch(o,a=>{a?(h.nextTick(f),i.value&&d.observe(i.value,{attributes:!0}),window.addEventListener("resize",f),window.addEventListener("scroll",f)):(d.disconnect(),window.removeEventListener("resize",f),window.removeEventListener("scroll",f))},{immediate:!0}),h.onUnmounted(()=>{d.disconnect(),window.removeEventListener("resize",f),window.removeEventListener("scroll",f)}),()=>{var a;return h.createVNode(h.Fragment,null,[o.value&&h.createVNode("div",h.mergeProps({ref:c,class:"s-base-popover"},n),[(a=e.default)==null?void 0:a.call(e),r.value&&h.createVNode("div",{class:"s-base-popover__arrow",ref:s},null)])])}}}),K=h.defineComponent({name:"SPopover",props:ht,emits:["update:modelValue"],setup(t,{slots:e}){const{modelValue:n,title:i}=h.toRefs(t);return()=>h.createVNode(h.Fragment,null,[n.value&&h.createVNode(Xt,h.mergeProps({class:"s-popover"},t),{default:()=>{var o;return[h.createVNode("h4",{class:"s-popover__title"},[i.value]),(o=e.default)==null?void 0:o.call(e)]}})])}}),Yt={install(t){t.component(K.name,K)}};T.Popover=K,T.default=Yt,Object.defineProperties(T,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
