(function(n,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(n=typeof globalThis<"u"?globalThis:n||self,e(n.index={},n.Vue))})(this,function(n,e){"use strict";const y={data:{type:Array,default:()=>[]}},g="",x="",f=e.defineComponent({name:"STable",props:y,emits:["selection-change"],setup(o,{slots:c,emit:p}){const{data:l}=e.toRefs(o),h=e.ref([]);e.provide("column-data",h),e.watch(l,t=>{const a=t.filter(u=>u.checked);a.length===l.value.length?(d.value=!0,i.value=!1):a.length===0?(d.value=!1,i.value=!1):i.value=!0,p("selection-change",a)},{deep:!0});const d=e.ref(l.value.every(t=>t.checked));e.provide("all-checked",d),e.watch(d,t=>{l.value.forEach(a=>{a.checked=t})});const i=e.ref(l.value.some(t=>t.checked)&&!d.value);return e.provide("is-indeterminate",i),()=>{var t;return e.createVNode("table",{class:"s-table"},[e.createVNode("thead",null,[e.createVNode("tr",null,[(t=c.default)==null?void 0:t.call(c)])]),e.createVNode("tbody",null,[l.value.map(a=>e.createVNode("tr",null,[h.value.map((u,N)=>{var m,b,k;const r=(m=c.default)==null?void 0:m.call(c)[N];return r!=null&&r.children?e.createVNode("td",null,[(k=(b=r==null?void 0:r.children).default)==null?void 0:k.call(b,a)]):e.createVNode("td",null,[u.prop?a[u.prop]:u.type==="selection"?e.withDirectives(e.createVNode("input",{type:"checkbox","onUpdate:modelValue":T=>a.checked=T},null),[[e.vModelCheckbox,a.checked]]):""])})]))])])}}}),V={prop:{type:String,default:""},title:{type:String,default:""},type:{type:String,default:""}},v="",s=e.defineComponent({name:"STableColumn",props:V,setup(o){const{prop:c,title:p,type:l}=e.toRefs(o);e.inject("column-data").value.push({prop:c.value,title:p.value,type:l.value});const d=e.inject("all-checked"),i=e.inject("is-indeterminate"),t=e.ref();return e.nextTick(()=>{t.value&&(t.value.indeterminate=i.value)}),e.watch(i,()=>{t.value&&(t.value.indeterminate=i.value)},{immediate:!0}),()=>e.createVNode("th",{class:"s-table-column"},[l.value==="selection"?e.withDirectives(e.createVNode("input",{ref:t,type:"checkbox","onUpdate:modelValue":a=>d.value=a},null),[[e.vModelCheckbox,d.value]]):p.value])}}),C={install(o){o.component(f.name,f),o.component(s.name,s)}};n.Table=f,n.TableColumn=s,n.default=C,Object.defineProperties(n,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
