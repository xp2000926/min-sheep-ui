(function(d,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(d=typeof globalThis<"u"?globalThis:d||self,e(d.index={},d.Vue))})(this,function(d,e){"use strict";const w={data:{type:Array,default:()=>[]},columns:{type:Array,default:[]},border:{type:Boolean,default:!1},stripe:{type:Boolean,default:!1},showSummary:{type:Boolean,default:!1}},_=e.defineComponent({name:"STableTitle",setup(){return()=>e.createVNode("div",{class:"table-title"},[e.createTextVNode("table-footer")])}}),v={columns:{type:Array,default:{}}},O={prop:{type:String,default:""},title:{type:String,default:""},type:{type:String,default:""}},E="",I="",b=e.defineComponent({name:"STableColumn",props:O,setup(n){const{prop:t,title:o,type:a}=e.toRefs(n);e.inject("column-data").value.push({prop:t.value,title:o.value,type:a.value});const l=e.inject("all-checked"),c=e.inject("is-indeterminate"),i=e.ref();return e.nextTick(()=>{i.value&&(i.value.indeterminate=c.value)}),e.watch(c,()=>{i.value&&(i.value.indeterminate=c.value)},{immediate:!0}),()=>e.createVNode("th",{class:"s-table-column"},[a.value==="selection"?e.withDirectives(e.createVNode("input",{ref:i,type:"checkbox","onUpdate:modelValue":p=>l.value=p},null),[[e.vModelCheckbox,l.value]]):o.value])}}),P=e.defineComponent({name:"STableHeader",props:v,setup(n){const{columns:t}=e.toRefs(n);return()=>e.createVNode(e.Fragment,null,[t.value.map((o,a)=>e.createVNode(b,e.mergeProps(o,{key:a}),null))])}}),A=e.defineComponent({name:"STableFooter",setup(){return()=>e.createVNode("div",{class:"table-footer"},[e.createTextVNode("table-footer")])}}),D=e.defineComponent({name:"STableSummary",setup(){return()=>e.createVNode("div",{class:"table-summary"},[e.createTextVNode("table-footer")])}});var V={},R={get exports(){return V},set exports(n){V=n}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(n){(function(){var t={}.hasOwnProperty;function o(){for(var a=[],u=0;u<arguments.length;u++){var l=arguments[u];if(l){var c=typeof l;if(c==="string"||c==="number")a.push(l);else if(Array.isArray(l)){if(l.length){var i=o.apply(null,l);i&&a.push(i)}}else if(c==="object"){if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]")){a.push(l.toString());continue}for(var p in l)t.call(l,p)&&l[p]&&a.push(p)}}}return a.join(" ")}n.exports?(o.default=o,n.exports=o):window.classNames=o})()})(R);const x=V,U="";function k(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!e.isVNode(n)}const S=e.defineComponent({name:"STable",props:w,emits:["selection-change"],setup(n,{slots:t,emit:o}){const{data:a,border:u,stripe:l,columns:c,showSummary:i}=e.toRefs(n),p=e.ref([]);e.provide("column-data",p),e.watch(a,r=>{const s=r.filter(y=>y.checked);s.length===a.value.length?(m.value=!0,h.value=!1):s.length===0?(m.value=!1,h.value=!1):h.value=!0,o("selection-change",s)},{deep:!0});const m=e.ref(a.value.every(r=>r.checked));e.provide("all-checked",m),e.watch(m,r=>{a.value.forEach(s=>{s.checked=r})});const h=e.ref(a.value.some(r=>r.checked)&&!m.value);return e.provide("is-indeterminate",h),()=>{var y;let r,s;return e.createVNode("table",{class:x("s-table",{"s-table--border":u.value,"s-table--striped":l.value})},[t.title?e.createVNode(_,null,k(r=t.title())?r:{default:()=>[r]}):null,e.createVNode("thead",null,[e.createVNode("tr",null,[c.value.length>0?e.createVNode(P,{columns:c.value},null):(y=t.default)==null?void 0:y.call(t)])]),e.createVNode("tbody",null,[a.value.length>0?a.value.map((N,B)=>e.createVNode("tr",{class:x({"s-table__row--striped":B%2==1&&l.value})},[p.value.map((T,F)=>{var C,g,j;const f=(C=t.default)==null?void 0:C.call(t)[F];return f!=null&&f.children?e.createVNode("td",null,[(j=(g=f==null?void 0:f.children).default)==null?void 0:j.call(g,N)]):e.createVNode("td",null,[T.prop?N[T.prop]:T.type==="selection"?e.withDirectives(e.createVNode("input",{type:"checkbox","onUpdate:modelValue":H=>N.checked=H},null),[[e.vModelCheckbox,N.checked]]):""])})])):e.createVNode("tr",{class:"s-table-placeholder"},[e.createVNode("td",{colspan:3},[e.createVNode("div",{class:"ant-empty-description"},[t.empty?t.empty():"暂无数据"])])])]),t.footer?e.createVNode(A,null,k(s=t.footer())?s:{default:()=>[s]}):i.value?e.createVNode(D,null,null):null])}}}),M={install(n){n.component(S.name,S),n.component(b.name,b)}};d.Table=S,d.TableColumn=b,d.default=M,Object.defineProperties(d,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
