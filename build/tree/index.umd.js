(function(d,o){typeof exports=="object"&&typeof module<"u"?o(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],o):(d=typeof globalThis<"u"?globalThis:d||self,o(d.index={},d.Vue))})(this,function(d,o){"use strict";function f(t,e=0,n=[]){return e++,t.reduce((c,i)=>{const r={...i};r.level=e,n.length>0&&n[n.length-1].level>=e&&n.pop(),n.push(r);const s=n[n.length-2];if(s&&(r.parentId=s.id),r.children){const l=f(r.children,e,n);return delete r.children,c.concat(r,l)}else return r.isLeaf=!0,c.concat(r)},[])}function p(t){const e=o.ref(f(o.unref(t))),n=r=>{const s=e.value.find(l=>l.id===r.id);s&&(s.expanded=!s.expanded)},c=o.computed(()=>{let r=[];const s=[];for(const l of e.value)r.includes(l)||(l.expanded!==!0&&(r=i(l)),s.push(l));return s}),i=r=>{const s=[],l=e.value.findIndex(u=>u.id===r.id);for(let u=l+1;u<e.value.length&&r.level<e.value[u].level;u++)s.push(e.value[u]);return s};return{innerData:e,toggleNode:n,expandedTree:c,getChildren:i}}const x={data:{type:Object,required:!0}},a=o.defineComponent({name:"STree",props:x,setup(t){const{data:e}=o.toRefs(t),{expandedTree:n,toggleNode:c}=p(e);return()=>o.createVNode("div",{class:"s-tree"},[n==null?void 0:n.value.map(i=>o.createVNode("div",{class:"s-tree-node hover:bg-slate-300",style:{paddingLeft:`${24*(i.level-1)}px`}},[i.isLeaf?o.createVNode("span",{style:{display:"inline-block",width:"18px"}},null):o.createVNode("svg",{onClick:()=>c(i),style:{width:"18px",height:"18px",display:"inline-block",transform:i.expanded?"rotate(90deg)":""},viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},[o.createVNode("path",{fill:"currentColor",d:"M384 192v640l384-320.064z"},null)]),i.label]))])}}),h="s",g="_sheep",m="S",P=(t,e={classPrefix:h})=>{var n;t.config.globalProperties[g]={...(n=t.config.globalProperties[g])!=null?n:{},classPrefix:e.classPrefix}},b=t=>{var e;return(e=t==null?void 0:t.componentPrefix)!=null?e:m};function v(t,e,n){const c=b(n);t.component(c+e.name)||(P(t,n),t.component(c+e.name,e))}const C={install(t,e){v(t,a,e)}};d.Tree=a,d.default=C,Object.defineProperties(d,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
