(function(o,s){typeof exports=="object"&&typeof module<"u"?s(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],s):(o=typeof globalThis<"u"?globalThis:o||self,s(o.index={},o.Vue))})(this,function(o,s){"use strict";const x={data:{type:Object,required:!0}};function f(t,n=0,e=[]){return n++,t.reduce((d,a)=>{const l={...a};l.level=n,e.length>0&&e[e.length-1].level>=n&&e.pop(),e.push(l);const i=e[e.length-2];if(i&&(l.parentId=i.id),l.children){const r=f(l.children,n,e);return delete l.children,d.concat(l,r)}else return l.isLeaf=!0,d.concat(l)},[])}const g=s.defineComponent({name:"STree",props:x,setup(t){const{data:n}=s.toRefs(t),e=s.ref(f(n.value)),d=i=>{const r=e.value.find(c=>c.id===i.id);r&&(r.expanded=!r.expanded)},a=s.computed(()=>{let i=[];const r=[];for(const c of e.value)i.includes(c)||(c.expanded!==!0&&(i=l(c)),r.push(c));return r}),l=i=>{const r=[],c=e.value.findIndex(u=>u.id===i.id);for(let u=c+1;u<e.value.length&&i.level<e.value[u].level;u++)r.push(e.value[u]);return r};return()=>s.createVNode("div",{class:"s-tree"},[a==null?void 0:a.value.map(i=>s.createVNode("div",{class:"s-tree-node",style:{paddingLeft:`${24*(i.level-1)}px`}},[i.isLeaf?s.createVNode("span",{style:{display:"inline-block",width:"18px"}},null):s.createVNode("svg",{onClick:()=>d(i),style:{width:"18px",height:"18px",display:"inline-block",transform:i.expanded?"rotate(90deg)":""},viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},[s.createVNode("path",{fill:"currentColor",d:"M384 192v640l384-320.064z"},null)]),i.label]))])}}),m="s",p="_sheep",h="S",P=(t,n={classPrefix:m})=>{var e;t.config.globalProperties[p]={...(e=t.config.globalProperties[p])!=null?e:{},classPrefix:n.classPrefix}},v=t=>{var n;return(n=t==null?void 0:t.componentPrefix)!=null?n:h};function C(t,n,e){const d=v(e);t.component(d+n.name)||(P(t,e),t.component(d+n.name,n))}const b={install(t,n){C(t,g,n)}};o.Tree=g,o.default=b,Object.defineProperties(o,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
